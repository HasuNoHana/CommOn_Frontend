<ng-template #content let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">{{header}}</h4>
    <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
  </div>
  <div class="modal-body">
    <form [formGroup]="taskForm">
      <div class="row">
        <div class="col-xs-12">
          <div class="form-group">
            <label for="name">Nazwa</label>
            <input
              type="text"
              id="name"
              formControlName="name"
              class="form-control">
            <span *ngIf="!taskForm.get('name').valid
            && taskForm.get('name').touched"
                  class="help-block">
              <span *ngIf="taskForm.get('name').errors['required']" style="color: red">
                To pole nie może być puste!
              </span>
            </span>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12">
          <div class="form-group">
            <label for="initialPrice">Cena początkowa</label>
            <input
              type="number"
              id="initialPrice"
              formControlName="initialPrice"
              class="form-control">
            <span *ngIf="!taskForm.get('initialPrice').valid
              && taskForm.get('initialPrice').touched" style="color: red"
                  class="help-block">
              <span *ngIf="taskForm.get('initialPrice').errors['required']" >
                To pole nie może być puste i musi być liczbą!
              </span><br *ngIf="taskForm.get('initialPrice').errors['required']">
              <span *ngIf="taskForm.get('initialPrice').errors['pattern']" >
                Wpisana wartość musi być liczbą całowitą!
              </span><br *ngIf="taskForm.get('initialPrice').errors['pattern']">
              <p><span *ngIf="taskForm.get('initialPrice').value < 1">
                Cena musi być większa od 0!
              </span>
            </span>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12">
          <div class="form-group">
            <label for="repetitionRateInDays">Co ile dni należy powtarzać to zadanie?</label>
            <input
              type="number"
              id="repetitionRateInDays"
              formControlName="repetitionRateInDays"
              class="form-control">
            <span *ngIf="!taskForm.get('repetitionRateInDays').valid
              && taskForm.get('repetitionRateInDays').touched" style="color: red"
                  class="help-block">
              <span *ngIf="taskForm.get('repetitionRateInDays').errors['required']" >
                To pole nie może być puste i musi być liczbą!
              </span><br *ngIf="taskForm.get('repetitionRateInDays').errors['required']">
              <span *ngIf="taskForm.get('repetitionRateInDays').errors['pattern']" >
                Wpisana wartość musi być liczbą całowitą!
              </span><br *ngIf="taskForm.get('repetitionRateInDays').errors['pattern']">
              <p><span *ngIf="taskForm.get('repetitionRateInDays').value < 1">
                Liczba dni musi być większa od 0!
              </span>
            </span>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12">
          <div class="form-group">
            <label for="roomName">Pokój</label>
            <select
              id="roomName"
              name="roomName"
              class="form-control"
              formControlName="roomName">
              <option
                [ngValue]="room.name"
                *ngFor="let room of rooms">
                {{room.name}}</option>
            </select>
            <span *ngIf="!taskForm.get('roomName').valid
            && taskForm.get('roomName').touched"
                  class="help-block">
              <span *ngIf="taskForm.get('roomName').errors['required']" style="color: red">
                To pole nie może być puste!
              </span>
            </span>
          </div>
        </div>
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-light" data-dismiss="modal"
            (click)="modal.dismiss('Cross click')">Anuluj</button>
    <button type="button" class="btn btn-dark" [disabled]="!taskForm.valid"
            (click)="modal.close('Save click')">{{acceptMessage}}</button>
  </div>
</ng-template>
<pre>{{ closeResult }}</pre>
